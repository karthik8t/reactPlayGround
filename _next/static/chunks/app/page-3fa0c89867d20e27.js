(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4323:(e,t,r)=>{Promise.resolve().then(r.bind(r,6270))},6270:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var n=r(5155),a=r(2115),o=r(3697),s=r(1290),l=r(1027),c=r(3463),i=r(9795);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/60",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",lockup:"bg-[#88F8E5] rounded-none w-[234] text-secondary-foreground border-2"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",agent:"h-[100] w-[100] bg-[#09384310] border-2 rounded-none",attack:"w-[300] h-[600] bg-0 hover"},tile:{default:"border-secondary",locked:"border-primary"}},defaultVariants:{variant:"default",size:"default",tile:"default"}}),g=a.forwardRef((e,t)=>{let{className:r,variant:a,size:o,asChild:l=!1,agent:g="sage",tile:u,...f}=e,x=l?s.DX:"button";return(0,n.jsx)(x,{className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,c.$)(t))}(d({variant:a,size:o,className:r,tile:u})),ref:t,style:{backgroundImage:"agent"===o?"url('/agents/".concat(g,"/avatar.png')"):"",backgroundSize:"cover"},...f})});function u(e){let{attacker:t,defender:r,currentPlayer:a,lockTile:o}=e,s="attack"===a?t:r;return console.log(s),(0,n.jsx)("div",{className:"flex flex-col items-center",children:(0,n.jsx)("div",{className:"grid grid-cols-5 gap-2 w-max p-3 bg-[#ecfffe20]",children:s.tiles.map(e=>(0,n.jsx)(g,{size:"agent",agent:e.agent,tile:e.isLocked?"locked":"default",onClick:()=>o(e.uniqueId,e.agent)},e.uniqueId))})})}g.displayName="Button";let f=["astra","breach","brim","jett","phoenix","sage","sova"],x=()=>{let e=[];for(let t=0;t<10;t++){let t={uniqueId:(0,o.A)(),agent:f[Math.floor(7*Math.random())],isLocked:!1};e.push(t)}return e},b=()=>({playerId:(0,o.A)(),score:0,locked:0,isCompleted:!1,isActive:!1,agent:"jett",tiles:x()});function h(){let[e,t]=(0,a.useState)("attack"),[r,o]=(0,a.useState)(b()),[s,l]=(0,a.useState)(b());function c(){return"attack"==e?{...r}:{...s}}function i(t){"attack"==e?o(t):l(t)}return(0,a.useEffect)(()=>{o(b()),l(b())},[]),(0,n.jsxs)("div",{className:"flex-grow flex flex-col",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center gap-3  p-4 justify-between bg-[#ecfffe10] h-full",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{size:"attack",className:"bg-center bg-cover",style:{backgroundImage:"url('/agents/".concat(r.agent?r.agent:"jett","/model.png')")},onClick:()=>t("attack")},r.playerId),(0,n.jsx)("h1",{className:"text-4xl font-extrabold lg:text-4xl text-[#EBE8DB] text-center",children:"Attacker"})]}),(0,n.jsx)("div",{children:(0,n.jsx)("h1",{className:"text-4xl font-extrabold lg:text-6xl text-[#EBE8DB]",children:r.score})}),r.isCompleted&&s.isCompleted&&(0,n.jsx)("h1",{className:"text-4xl font-extrabold lg:text-6xl",children:r.score<s.score?"Attacker Won":"Defender Won"}),(0,n.jsx)("div",{children:(0,n.jsx)("h1",{className:"text-4xl font-extrabold lg:text-6xl text-[#EBE8DB]",children:s.score})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{size:"attack",className:"bg-center bg-cover",style:{backgroundImage:"url('/agents/".concat(s.agent?s.agent:"jett","/model.png')")},onClick:()=>t("defend")},s.playerId),(0,n.jsx)("h1",{className:"text-4xl font-extrabold lg:text-4xl text-[#EBE8DB] text-center",children:"Defender"})]})]}),(0,n.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-end pb-40",children:[(0,n.jsx)(g,{type:"button",onClick:function(){let e=c();if(e.isCompleted)return;let t=e.tiles.map(e=>e.isLocked?e:{...e,agent:["astra","breach","brim","jett","phoenix","sage","sova"][Math.floor(7*Math.random())]});e.tiles=t,e.score+=1,i(e)},variant:"lockup",className:"mb-3",children:"UPDATE"}),(0,n.jsx)(u,{attacker:r,defender:s,currentPlayer:e,lockTile:(e,t)=>(function(e,t){let r=c();if(0!==r.locked&&r.agent.toString()!=t)return;r.agent.toString()!=t&&(r.agent=t);let n=r.tiles.find(t=>t.uniqueId===e&&!t.isLocked);n&&(n.isLocked=!0,r.locked+=1,10==r.locked&&(r.isCompleted=!0),i(r))})(e,t)})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[552,441,517,358],()=>t(4323)),_N_E=e.O()}]);